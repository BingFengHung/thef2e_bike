(this.webpackJsonpthef2e_bike=this.webpackJsonpthef2e_bike||[]).push([[0],{11:function(e,n,t){e.exports={container:"App_container__1MQN3",header:"App_header__3ZZ1n"}},13:function(e,n,t){e.exports={container:"Header_container__1VC87",logo:"Header_logo__3_SJs"}},23:function(e,n,t){e.exports={container:"Map_container__3xh_q"}},32:function(e,n,t){},63:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(7),i=t.n(o),c=(t(32),t(26)),u=t(10),s=t.n(u),l=t(22),p=t(8),h=t.n(p),d=t(25);function f(){var e=(new Date).toGMTString(),n=new d.a("SHA-1","TEXT");return n.setHMACKey("0o53fh7JHKpoZBW2kIM8SM7GW4Y","TEXT"),n.update("x-date: "+e),{Authorization:'hmac username="83fc39f9c29946578ee26c17b458f970", algorithm="hmac-sha1", headers="x-date", signature="'+n.getHMAC("B64")+'"',"X-Date":e}}function m(){return(m=Object(l.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("hi",n),h.a.defaults.baseURL="https://ptx.transportdata.tw/MOTC",h.a.defaults.headers=f(),e.next=6,h.a.get(n);case 6:if(200!==(t=e.sent).status){e.next=9;break}return e.abrupt("return",t.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var b=function(e){return m.apply(this,arguments)},g=t(11),j=t.n(g),y="\u81fa\u5317\u5e02:Taipei\n\u65b0\u5317\u5e02:NewTaipei\n\u6843\u5712\u5e02:Taoyuan\n\u81fa\u4e2d\u5e02:Taichung\n\u81fa\u5357\u5e02:Tainan\n\u9ad8\u96c4\u5e02:Kaohsiung\n\u57fa\u9686\u5e02:Keelung\n\u65b0\u7af9\u5e02:Hsinchu\n\u65b0\u7af9\u7e23:HsinchuCounty\n\u82d7\u6817\u7e23:MiaoliCounty\n\u5f70\u5316\u7e23:ChanghuaCounty\n\u5357\u6295\u7e23:NantouCounty\n\u96f2\u6797\u7e23:YunlinCounty\n\u5609\u7fa9\u7e23:ChiayiCounty\n\u5609\u7fa9\u5e02:Chiayi\n\u5c4f\u6771\u7e23:PingtungCounty\n\u5b9c\u862d\u7e23:YilanCounty\n\u82b1\u84ee\u7e23:HualienCounty\n\u81fa\u6771\u7e23:TaitungCounty\n\u91d1\u9580\u7e23:KinmenCounty\n\u6f8e\u6e56\u7e23:PenghuCounty\n\u9023\u6c5f\u7e23:LienchiangCounty".split(/\r?\n/).map((function(e,n){return e.split(":")})),v=(t(52),t(4)),x=t.n(v),O=t(23),C=t.n(O),_=(t(53),t(54),t(55),t(3)),w=t(1);var k=function(e){var n=e.data,t=Object(a.useRef)();return Object(a.useEffect)((function(){if(null===n||0===n.length)return null;var e=x.a.map(t.current,{center:[n[0].StationPosition.PositionLat,n[0].StationPosition.PositionLon],zoom:16});x.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e);var a=new x.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),r=x.a.markerClusterGroup();return n.map((function(e){return x.a.marker([e.StationPosition.PositionLat,e.StationPosition.PositionLon],{icon:a}).bindPopup("<h1>".concat(e.StationAddress.Zh_tw,"</h1>"))})).forEach((function(e){return r.addLayer(e)})),e.addLayer(r),function(){return e.remove()}}),[n]),Object(w.jsx)("div",{className:C.a.container,ref:function(e){return t.current=e}})},S=t(13),T=t.n(S),L=function(e){var n=y.map((function(e,n){return Object(w.jsx)("option",{value:e[1],children:e[0]},n)})),t=Object(_.b)();return Object(w.jsxs)("div",{className:T.a.container+" "+e.style,children:[Object(w.jsx)("p",{className:T.a.logo,children:"Go Bike"}),Object(w.jsx)("div",{children:Object(w.jsxs)("select",{onChange:function(e){t({type:"ADD_ITEM",payload:{itemNew:e.target.value}}),t({type:"PlaceSelect",payload:{place:e.target.value}})},children:[Object(w.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"\u79df\u8eca/\u9084\u8eca"}),n]})})]})};var M=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],o=Object(_.c)((function(e){return e.place}));return Object(a.useEffect)((function(){b("/v2/Bike/Station/".concat(o,"?$format=JSON")).then((function(e){console.log("in"),r(e)}))}),[o]),Object(w.jsxs)("div",{className:j.a.container,children:[Object(w.jsx)(L,{style:j.a.header}),Object(w.jsx)(k,{data:t})]})},P=t(27),A={menuItemData:["Like\u7684\u767c\u554f","Like\u7684\u56de\u7b54","Like\u7684\u6587\u7ae0","Like\u7684\u7559\u8a00"],place:"NewTaipei"},N=Object(P.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PlaceSelect":var t=e;return t.place=n.payload.place,t;case"ADD_ITEM":var a=e.menuItemData.slice();return console.log(a),{menuItemData:[n.payload.itemNew].concat(a)};case"CLEAN_ITEM":return{menuItemData:[]};default:return e}}));i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(_.a,{store:N,children:Object(w.jsx)(M,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.0accf297.chunk.js.map